{% extends 'base.html' %}

{% block content %}
<h2>Register</h2>
<form method="post">
    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
    {% csrf_token %}
    <p>
        <label for="username">Username:</label>
        <input type="text" name="username" required>
    </p>
    <p>
        <label for="email">Email:</label>
        <input type="email" name="email" required>
    </p>
    <p>
        <label for="password">Password:</label>
        <input type="password" name="password" required>
    </p>
    <p>
        <label for="confirm_password">Confirm Password:</label>
        <input type="password" name="confirm_password" required>
    </p>
    <p>
        <label for="user_type">User Type:</label>
        <select name="user_type" id="user_type" onchange="toggleCompanyField()">
            <option value="jobseeker">Job Seeker</option>
            <option value="recruiter">Recruiter</option>
        </select>
    </p>
    <p id="company_field" style="display: none;">
        <label for="company_name">Company Name:</label>
        <input type="text" name="company_name">
    </p>
    <button type="submit" class="btn">Register</button>
</form>

<script>
    function toggleCompanyField() {
        var userType = document.getElementById("user_type").value;
        var companyField = document.getElementById("company_field");
        if (userType === "recruiter") {
            companyField.style.display = "block";
        } else {
            companyField.style.display = "none";
        }
    }
</script>
<p>Already have an account? <a href="{% url 'login' %}">Login here</a></p>
{% endblock %}
